# 📌 데이터베이스 설계
### ✅ 데이터베이스 모델링
데이터를 저장하기 위해 데이터 구조를 설계하는 작업

#### 1️⃣ 요구사항 수집 및 분석
- 요구사항을 바탕으로 수집한 정보의 모호성을 제거하고, 구체적이고 명확하게 정리한다.

#### 2️⃣ 개념 데이터 모델링
- 요구사항을 수집하고 분석한 결과를 토대로 **전체적인 뼈대**를 만드는 과정이다.
- 개체(Entity)를 추출하고 각 개체 간의 관계를 정의하여 **ERD**를 작성한다.
- 가장 **핵심적인 개체**와 개체를 식별할 수 있는 **핵심 속성(PK)**, 각 **개체간의 관계**를 정의한다.
- ERD에는 모든 속성을 포함하지 않고, **테이블의 이름과 관계**정도만 간단하게 표현한다.
#### 3️⃣ 논리 데이터 모델링
- 개념적 모델링에서 추출하지 않았던 **상세 속성들을 모두 추출**한다.
- **정규화**를 수행한다.
- 데이터 용어 사전과 도메인을 정의하여 **공통 용어(테이블명, 컬럼명,..)를 정리하고 데이터의 자료형과 크기를 확정**한다.
#### 4️⃣ 물리 데이터 모델링
- 사용할 **DBMS를 결정**한다.
- DBMS 특성에 맞게 물리적인 구조를 정의하고 구현한다.
#### 5️⃣ 데이터베이스 구축(구현)

<BR>

### ✅ ERD
엔티티 간의 관계를 나타내는 표준화된 그림
#### 👉 Entity, 엔티티
- 유무형의 정보를 가지고 있는 독립적인 실체
- 유일한 식별자에 의해 **식별**할 수 있다.
- 자신의 특징을 나타내는 **속성을 포함**한다.
- 다른 엔티티와 **최소한 한 개 이상의 관계**를 맺고 있다.
- ERD에서 테이블의 형태(사각형)로 표현한다.

#### 👉 Attribute, 속성
- **개체가 가진 성질**
- ERD에서 엔티티 내에 표현한다.
- 속성의 제약사항
    - **NN, Not Null (*)** : 필수값
    - **ND, Not Duplicate (#)** : 유일값
    - e.g. *#속성명 > 중복이 되거나 생략될 수 없다.

#### 👉 Relationship ⭐
- 개체 간의 관계
- 관계의 종류
    - 1:1
    - 1:N, N:1
    - N:M

<br>

# 📌 정규화
- 자료의 손실이나 불필요한 정보를 없애고, 데이터의 일관성을 유지하며 종속성을 최소화하는 과정
- 이상현상이 없어질 때까지 릴레이션을 분해한다.

### ✅ 정규화 목적
1. NULL값을 최대한 제거
2. 중복값 제거
3. 이상현상 제거 > 데이터 무결성 보장

<br>

### ✅ 이상현상
- 대부분 두 가지 이상의 정보가 한 릴레이션에 저장되어 있을 때 발생한다.

#### 1️⃣ 삽입 이상, Insertion Anormaly
- 튜플 삽입 시 특정 속성에 해당하는 값이 없어 **NULL 값을 입력해야 하는 상황**

#### 2️⃣ 갱신 이상, Update Anormaly
- 동일한 데이터가 테이블에 2개 이상 존재할 때, 1개를 수정하고 다른 데이터를 수정하지 않으면 **데이터의 일관성이 깨지는 상황**
#### 3️⃣ 삭제 이상, Deletion Anormaly
- 튜플 삭제 시 같이 저장된 **다른 정보까지 연쇄적으로 삭제**되는 상황

<br>

### ✅ 함수 종속, Functional Dependency
- 하나의 테이블 내 **컬럼 간의 종속 관계**
- 어떤 속성 A의 값을 알면 B의 값이 유일하게 정해지는 의존 관계를 '속성 B는 속성 A에 종속한다(결정한다)'라고 한다. A → B
- 정규화는 **부분 함수 종속**이나 **이행 함수 종속**을 모두 없애고, 모든 컬럼 관계를 **완전 함수 종속**으로 만드는 작업
- 정규화를 하기 위해서는 테이블을 분석하여 기본키와 함수 종속성을 파악해야 한다.

<br>

### ✅ 정규화
<i>p 412 ~ 418</i>

#### 1️⃣ 제 1 정규형, 1NF
- 모든 컬럼(속성)은 **원자값**을 가진다.
- 여러 개로 분리 가능한 값을 1개의 컬럼 안에 넣지 않는다.
#### 2️⃣ 제 2 정규형, 2NF
- 기본키가 아닌 모든 컬럼은 **기본키에 대해 완전 함수 종속**이어야 한다.
- 부분 함수 종속 제거 과정
- 주로 복합키를 가지는 테이블에서 발견되며, 일부 컬럼이 복합키 모두에게 종속되는 것이 아니라, 일부에만 종속되는 현상
#### 3️⃣ 제 3 정규형, 3NF
- 기본키가 아닌 **다른 컬럼에게 종속되는 컬럼이 존재하면 안된다.**
- 이행 함수 종속 제거 과정

<br>

### ✅ 역정규화
- 정규화된 결과를 원래대로 되돌리는 작업
- **정규화**가 되면 테이블이 여러 개로 분리되면서 **데이터 조회 비용이 상승한다.** (JOIN 작업 필요)
- **비용을 최소화(성능 향상)**하기 위해 중복을 허용하고 개체를 다시 통합하는 등 데이터베이스 구조를 재조정한다.